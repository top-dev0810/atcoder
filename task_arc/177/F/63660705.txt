#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
template<class T>bool chmax(T &a, const T &b) { if (a<b) { a=b; return true; } return false; }
template<class T>bool chmin(T &a, const T &b) { if (b<a) { a=b; return true; } return false; }
#define vi vector<int>
#define vl vector<ll>
#define vii vector<pair<int,int>>
#define vll vector<pair<ll,ll>>
#define vvi vector<vector<int>>
#define vvl vector<vector<ll>>
#define vvii vector<vector<pair<int,int>>>
#define vvll vector<vector<pair<ll,ll>>>
#define vst vector<string>
#define pii pair<int,int>
#define pll pair<ll,ll>
#define pb push_back
#define all(x) (x).begin(),(x).end()
#define mkunique(x) sort(all(x));(x).erase(unique(all(x)),(x).end())
#define fi first
#define se second
#define mp make_pair
#define si(x) int(x.size())
const int mod=998244353,MAX=60005,INF=15<<26;

int dp[MAX][26][26][2];

int main(){
    
    std::ifstream in("text.txt");
    std::cin.rdbuf(in.rdbuf());
    cin.tie(0);
    ios::sync_with_stdio(false);
    
    int N,M;cin>>N>>M;
    string S;cin>>S;
    vi A(N+1),B(N+1);
    for(int i=0;i<N;i++){
        A[i+1]=A[i]+(S[i]=='J');
        B[i+1]=B[i]+(S[i]=='A');
    }
    // A->ana, B->jal
    
    auto dA=[&](int l,int r){
        if(l>r) swap(l,r);
        return A[r]-A[l];
    };
    
    auto dB=[&](int l,int r){
        if(l>r) swap(l,r);
        return B[r]-B[l];
    };
    
    vi X,Y;
    
    for(int i=0;i<M;i++){
        int x;cin>>x;
        char c;cin>>c;
        if(c=='A'){
            X.pb(x);
        }else{
            Y.pb(x);
        }
    }
    sort(all(X));
    sort(all(Y));
    
    for(int i=0;i<MAX;i++){
        for(int j=0;j<26;j++){
            for(int k=0;k<26;k++){
                for(int f=0;f<2;f++){
                    dp[i][j][k][f]=INF;
                }
            }
        }
    }
    
    vi posX(N+1),posY(N+1);
    for(int i=0;i<=N;i++){
        posX[i]=lower_bound(all(X),i)-X.begin();
        posY[i]=lower_bound(all(Y),i)-Y.begin();
    }
    
    if(si(X)){
        dp[0][3][2][0]=dA(0,X[0]);
    }
    if(si(Y)){
        dp[0][2][3][1]=dB(0,Y[0]);
    }
    
    for(int i=0;i<N;i++){
        for(int a=0;a<25;a++){
            for(int b=0;b<25;b++){
                for(int f=0;f<2;f++){
                    if(dp[i][a][b][f]==INF) continue;
                    int co=dp[i][a][b][f];
                    int x=posX[i]+(a-3),y=posY[i]+(b-3);
                    
                    if(f==0){
                        chmin(dp[i][a][b+1][0],co);
                    }
                    if(f==1){
                        chmin(dp[i][a+1][b][1],co);
                    }
                    if(x>=0&&x<si(X)&&X[x]==i){
                        chmin(dp[i][3][b][f],co);
                    }
                    if(y>=0&&y<si(Y)&&Y[y]==i){
                        chmin(dp[i][a][3][f],co);
                    }
                    
                    if(x+1<si(X)){
                        chmin(dp[i][a+1][b][0],co+dA(i,X[x+1]));
                    }
                    if(y+1<si(Y)){
                        chmin(dp[i][a][b+1][1],co+dB(i,Y[y+1]));
                    }
                    
                    if(f==0){
                        int za=(x-posX[i+1])+3,zb=(y-posY[i+1])+3;
                        chmax(za,0);
                        chmax(zb,0);
                        chmin(dp[i+1][za][zb][0],co+dA(i,i+1));
                    }
                    if(f==1){
                        int za=(x-posX[i+1])+3,zb=(y-posY[i+1])+3;
                        chmax(za,0);
                        chmax(zb,0);
                        chmin(dp[i+1][za][zb][1],co+dB(i,i+1));
                    }
                }
            }
        }
    }
    
    int ans=INF;
    
    for(int a=0;a<25;a++){
        for(int b=0;b<25;b++){
            for(int f=0;f<2;f++){
                chmin(ans,dp[N][a][b][f]);
            }
        }
    }
    cout<<ans<<endl;
}


