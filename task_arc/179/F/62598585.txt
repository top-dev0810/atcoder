// LUOGU_RID: 202249020
#include<bits/stdc++.h>
using namespace std;
const int N = 1e6 + 10;
int b[N], tot, n, a[N], f[N];
string s;
void print(int r){
	if(!r)
		return;
	int l = r;
	while(f[l] + 1 != f[r] || a[l] > a[r])
		l--;
	print(l);
	int dlt = (a[r] - a[l]) / 6, p = 1, cnt = 0;
//	cout << l << " " << r << "\n";
	for(int i = l + 1; i <= r; i++){
		cnt += (s[i] == 'A')? 2 : -1;
		if(dlt && cnt == 4){
			cout << 2;
			p = 4 - p, dlt--, cnt -= 6;
		}
		else if(dlt && cnt == 3 && s[i + 1] == 'A'){
			cout << "2" << 4 - p;
			i++, cnt -= 4, dlt--;
		}
		else
			cout << ((s[i] == 'A')? p : 4 - p);
	}
}
int main(){
//	freopen("input.txt", "r", stdin);
//	freopen("output.txt", "w", stdout);
	ios::sync_with_stdio(false);
	cin.tie(nullptr);
	int Cases;
	cin >> Cases;
	while(Cases--){
		cin >> n >> s;
		tot = 0, s = " " + s;
		int maxn = 0;
		for(int i = 1; i <= n; i++){
			a[i] = a[i - 1] + ((s[i] == 'A')? 2 : -1), f[i] = -1;
//			cout << a[i] << " ";
			if(a[i] < 0 || a[i] % 6 != 0)
				continue;
			if(a[i] >= b[tot])
				b[++tot] = a[i], f[i] = tot;
			else
				f[i] = upper_bound(b + 1, b + tot + 1, a[i]) - b, b[f[i]] = a[i];
			maxn = max(maxn, f[i]);
		}
//		cout << maxn << " ";
		for(int i = 0; i <= n; i++){
			if(f[i] == maxn){
				print(i);
				for(int j = i + 1; j <= n; j++)
					cout << ((s[j] == 'A')? 1 : 3);
				cout << "\n";
				break;
			}
		}
	}
	return 0;
}