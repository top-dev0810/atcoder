#include <bits/stdc++.h>
using namespace std;

// #define n = 2e5 + 69;
#define int long long
#define FOR(i,a,b) for (int i = (a); i < (b); ++i)
#define pb push_back
#define all(a) a.begin(), a.end()
#define endl "\n"

void printVector(vector<int> a){
	for (auto x: a) cout << x << " ";
	cout << endl;
}
int max(int x, int y){
	if (x > y) return x;
	return y;
}
void solve(){

	int n; cin >> n;
	vector<int> a(n+1);

	FOR(i,1,n+1) cin >> a[i];
	vector<int> dp(n+5, -1e15); // dp[i] is max val on suffix if we have to choose i in the answer
	dp[n] = a[n];
	dp[n-1] = max(0, a[n-1]+a[n]);
	dp[n+1] = 0;
	for (int i = n-2; i >= 1; i--){
		dp[i] = max(0, a[i]+a[i+1])+dp[i+2];
		dp[i] = max(dp[i], a[i]+dp[i+3]);
		// dp[i] = max(dp[i], a[i]+a[i+1]+dp[i+2]);
	}
	// printVector(dp);
	cout << dp[1] << endl;
	


}


int32_t main(){
	ios::sync_with_stdio(false);cin.tie(nullptr);
	int t = 1; // cin >> t;
	while (t--) solve();
}

