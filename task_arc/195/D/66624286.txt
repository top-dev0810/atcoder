#include <bits/stdc++.h>
#define ll long long
using namespace std;
ll a[200005],dp[200005][2];
ll t;
int main()
{
	cin>>t;
	while(t--)
	{
		ll n;
		cin>>n;
		for(int i=1;i<=n;i++)
		{
			cin>>a[i];
		}
		dp[1][0]=1;
		dp[2][0]=1+(a[1]!=a[2]);
		dp[2][1]=2+(a[1]!=a[2]);
		dp[3][0]=min(dp[2][0]+(a[2]!=a[3]),dp[2][1]+(a[1]!=a[3]));
		dp[3][1]=1+dp[1][0]+(a[1]!=a[3])+(a[2]!=a[3]);
		for(int i=4;i<=n;i++)
		{
			dp[i][0]=min(dp[i-1][0]+(a[i-1]!=a[i]),dp[i-1][1]+(a[i-2]!=a[i]));
			dp[i][1]=1+min(dp[i-2][0]+(a[i-2]!=a[i])+(a[i-1]!=a[i]),dp[i-2][1]+(a[i-3]!=a[i])+(a[i-1]!=a[i]));
		}
		cout<<min(dp[n][0],dp[n][1])<<endl;
	}
	return 0;
}