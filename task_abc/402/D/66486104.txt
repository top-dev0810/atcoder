#include<bits/stdc++.h>
using namespace std;

#define ll            long long int
const int maxN = 1e6+5;
int n;

void doWork() {
    int m;
    cin >> n >> m;
    vector<int> freq(n);
    ll ans = 0;
    ll sum = 0;
    for(int i =0; i<m; ++i){
        int x, y;
        cin >> x >> y;
        ans+=sum-freq[(x+y)%n];
        freq[(x+y)%n]++;
        sum++;
    }

    cout << ans << '\n';
    
}

int32_t main()
{
    ios_base::sync_with_stdio(0); cin.tie(0);

    int tt = 1;
    // cin >> tt;
    while (tt--) doWork();
    return 0;
}