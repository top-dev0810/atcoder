#include<bits/stdc++.h>

using ll = long long;
using ull = unsigned long long;

using i64 = long long;
using ui64 = unsigned long long;

using pii = std::pair<i64,i64>;
constexpr int mod = 1e9+7;


void solve()
{
    i64 a , b, c , d;
    std::cin>>a>>b>>c>>d;

    auto get = [&](auto self , i64 a , i64 b , i64 c , i64 d)->pii{
        i64 n = a/b;
        a -= n*b;
        c -= n*d;
        if(c>d) return{n+1,1};
        auto [p,q] = self(self,d,c,b,a);
        return {n*p+q,p};
    };

    auto [p,q] = get(get,a,b,c,d);
    std::cout<<q<<"\n";

}

int main()
{
    std::ios::sync_with_stdio(false);
    std::cin.tie(0);std::cout.tie(0);

    int t = 1 ;
    std::cin>>t ;
    while( t -- > 0){
        solve();
    }
    return 0;
}